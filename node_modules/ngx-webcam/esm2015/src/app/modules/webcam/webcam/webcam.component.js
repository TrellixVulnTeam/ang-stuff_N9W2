import { Component, EventEmitter, Input, Output, ViewChild } from '@angular/core';
import { WebcamImage } from '../domain/webcam-image';
import { WebcamUtil } from '../util/webcam.util';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from '@angular/common';

const _c0 = ["video"];
const _c1 = ["canvas"];
function WebcamComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r4 = ɵngcc0.ɵɵgetCurrentView();
    ɵngcc0.ɵɵelementStart(0, "div", 6);
    ɵngcc0.ɵɵlistener("click", function WebcamComponent_div_3_Template_div_click_0_listener() { ɵngcc0.ɵɵrestoreView(_r4); const ctx_r3 = ɵngcc0.ɵɵnextContext(); return ctx_r3.rotateVideoInput(true); });
    ɵngcc0.ɵɵelementEnd();
} }
export class WebcamComponent {
    constructor() {
        /** Defines the max width of the webcam area in px */
        this.width = 640;
        /** Defines the max height of the webcam area in px */
        this.height = 480;
        /** Defines base constraints to apply when requesting video track from UserMedia */
        this.videoOptions = WebcamComponent.DEFAULT_VIDEO_OPTIONS;
        /** Flag to enable/disable camera switch. If enabled, a switch icon will be displayed if multiple cameras were found */
        this.allowCameraSwitch = true;
        /** Flag to control whether an ImageData object is stored into the WebcamImage object. */
        this.captureImageData = false;
        /** The image type to use when capturing snapshots */
        this.imageType = WebcamComponent.DEFAULT_IMAGE_TYPE;
        /** The image quality to use when capturing snapshots (number between 0 and 1) */
        this.imageQuality = WebcamComponent.DEFAULT_IMAGE_QUALITY;
        /** EventEmitter which fires when an image has been captured */
        this.imageCapture = new EventEmitter();
        /** Emits a mediaError if webcam cannot be initialized (e.g. missing user permissions) */
        this.initError = new EventEmitter();
        /** Emits when the webcam video was clicked */
        this.imageClick = new EventEmitter();
        /** Emits the active deviceId after the active video device was switched */
        this.cameraSwitched = new EventEmitter();
        /** available video devices */
        this.availableVideoInputs = [];
        /** Indicates whether the video device is ready to be switched */
        this.videoInitialized = false;
        /** Index of active video in availableVideoInputs */
        this.activeVideoInputIndex = -1;
        /** MediaStream object in use for streaming UserMedia data */
        this.mediaStream = null;
        /** width and height of the active video stream */
        this.activeVideoSettings = null;
    }
    /**
     * If the given Observable emits, an image will be captured and emitted through 'imageCapture' EventEmitter
     */
    set trigger(trigger) {
        if (this.triggerSubscription) {
            this.triggerSubscription.unsubscribe();
        }
        // Subscribe to events from this Observable to take snapshots
        this.triggerSubscription = trigger.subscribe(() => {
            this.takeSnapshot();
        });
    }
    /**
     * If the given Observable emits, the active webcam will be switched to the one indicated by the emitted value.
     * @param switchCamera Indicates which webcam to switch to
     *   true: cycle forwards through available webcams
     *   false: cycle backwards through available webcams
     *   string: activate the webcam with the given id
     */
    set switchCamera(switchCamera) {
        if (this.switchCameraSubscription) {
            this.switchCameraSubscription.unsubscribe();
        }
        // Subscribe to events from this Observable to switch video device
        this.switchCameraSubscription = switchCamera.subscribe((value) => {
            if (typeof value === 'string') {
                // deviceId was specified
                this.switchToVideoInput(value);
            }
            else {
                // direction was specified
                this.rotateVideoInput(value !== false);
            }
        });
    }
    /**
     * Get MediaTrackConstraints to request streaming the given device
     * @param deviceId
     * @param baseMediaTrackConstraints base constraints to merge deviceId-constraint into
     * @returns
     */
    static getMediaConstraintsForDevice(deviceId, baseMediaTrackConstraints) {
        const result = baseMediaTrackConstraints ? baseMediaTrackConstraints : this.DEFAULT_VIDEO_OPTIONS;
        if (deviceId) {
            result.deviceId = { exact: deviceId };
        }
        return result;
    }
    /**
     * Tries to harvest the deviceId from the given mediaStreamTrack object.
     * Browsers populate this object differently; this method tries some different approaches
     * to read the id.
     * @param mediaStreamTrack
     * @returns deviceId if found in the mediaStreamTrack
     */
    static getDeviceIdFromMediaStreamTrack(mediaStreamTrack) {
        if (mediaStreamTrack.getSettings && mediaStreamTrack.getSettings() && mediaStreamTrack.getSettings().deviceId) {
            return mediaStreamTrack.getSettings().deviceId;
        }
        else if (mediaStreamTrack.getConstraints && mediaStreamTrack.getConstraints() && mediaStreamTrack.getConstraints().deviceId) {
            const deviceIdObj = mediaStreamTrack.getConstraints().deviceId;
            return WebcamComponent.getValueFromConstrainDOMString(deviceIdObj);
        }
    }
    /**
     * Tries to harvest the facingMode from the given mediaStreamTrack object.
     * Browsers populate this object differently; this method tries some different approaches
     * to read the value.
     * @param mediaStreamTrack
     * @returns facingMode if found in the mediaStreamTrack
     */
    static getFacingModeFromMediaStreamTrack(mediaStreamTrack) {
        if (mediaStreamTrack) {
            if (mediaStreamTrack.getSettings && mediaStreamTrack.getSettings() && mediaStreamTrack.getSettings().facingMode) {
                return mediaStreamTrack.getSettings().facingMode;
            }
            else if (mediaStreamTrack.getConstraints && mediaStreamTrack.getConstraints() && mediaStreamTrack.getConstraints().facingMode) {
                const facingModeConstraint = mediaStreamTrack.getConstraints().facingMode;
                return WebcamComponent.getValueFromConstrainDOMString(facingModeConstraint);
            }
        }
    }
    /**
     * Determines whether the given mediaStreamTrack claims itself as user facing
     * @param mediaStreamTrack
     */
    static isUserFacing(mediaStreamTrack) {
        const facingMode = WebcamComponent.getFacingModeFromMediaStreamTrack(mediaStreamTrack);
        return facingMode ? 'user' === facingMode.toLowerCase() : false;
    }
    /**
     * Extracts the value from the given ConstrainDOMString
     * @param constrainDOMString
     */
    static getValueFromConstrainDOMString(constrainDOMString) {
        if (constrainDOMString) {
            if (constrainDOMString instanceof String) {
                return String(constrainDOMString);
            }
            else if (Array.isArray(constrainDOMString) && Array(constrainDOMString).length > 0) {
                return String(constrainDOMString[0]);
            }
            else if (typeof constrainDOMString === 'object') {
                if (constrainDOMString['exact']) {
                    return String(constrainDOMString['exact']);
                }
                else if (constrainDOMString['ideal']) {
                    return String(constrainDOMString['ideal']);
                }
            }
        }
        return null;
    }
    ngAfterViewInit() {
        this.detectAvailableDevices()
            .then(() => {
            // start video
            this.switchToVideoInput(null);
        })
            .catch((err) => {
            this.initError.next({ message: err });
            // fallback: still try to load webcam, even if device enumeration failed
            this.switchToVideoInput(null);
        });
    }
    ngOnDestroy() {
        this.stopMediaTracks();
        this.unsubscribeFromSubscriptions();
    }
    /**
     * Takes a snapshot of the current webcam's view and emits the image as an event
     */
    takeSnapshot() {
        // set canvas size to actual video size
        const _video = this.nativeVideoElement;
        const dimensions = { width: this.width, height: this.height };
        if (_video.videoWidth) {
            dimensions.width = _video.videoWidth;
            dimensions.height = _video.videoHeight;
        }
        const _canvas = this.canvas.nativeElement;
        _canvas.width = dimensions.width;
        _canvas.height = dimensions.height;
        // paint snapshot image to canvas
        const context2d = _canvas.getContext('2d');
        context2d.drawImage(_video, 0, 0);
        // read canvas content as image
        const mimeType = this.imageType ? this.imageType : WebcamComponent.DEFAULT_IMAGE_TYPE;
        const quality = this.imageQuality ? this.imageQuality : WebcamComponent.DEFAULT_IMAGE_QUALITY;
        const dataUrl = _canvas.toDataURL(mimeType, quality);
        // get the ImageData object from the canvas' context.
        let imageData = null;
        if (this.captureImageData) {
            imageData = context2d.getImageData(0, 0, _canvas.width, _canvas.height);
        }
        this.imageCapture.next(new WebcamImage(dataUrl, mimeType, imageData));
    }
    /**
     * Switches to the next/previous video device
     * @param forward
     */
    rotateVideoInput(forward) {
        if (this.availableVideoInputs && this.availableVideoInputs.length > 1) {
            const increment = forward ? 1 : (this.availableVideoInputs.length - 1);
            const nextInputIndex = (this.activeVideoInputIndex + increment) % this.availableVideoInputs.length;
            this.switchToVideoInput(this.availableVideoInputs[nextInputIndex].deviceId);
        }
    }
    /**
     * Switches the camera-view to the specified video device
     */
    switchToVideoInput(deviceId) {
        this.videoInitialized = false;
        this.stopMediaTracks();
        this.initWebcam(deviceId, this.videoOptions);
    }
    /**
     * Event-handler for video resize event.
     * Triggers Angular change detection so that new video dimensions get applied
     */
    videoResize() {
        // here to trigger Angular change detection
    }
    get videoWidth() {
        const videoRatio = this.getVideoAspectRatio();
        return Math.min(this.width, this.height * videoRatio);
    }
    get videoHeight() {
        const videoRatio = this.getVideoAspectRatio();
        return Math.min(this.height, this.width / videoRatio);
    }
    get videoStyleClasses() {
        let classes = '';
        if (this.isMirrorImage()) {
            classes += 'mirrored ';
        }
        return classes.trim();
    }
    get nativeVideoElement() {
        return this.video.nativeElement;
    }
    /**
     * Returns the video aspect ratio of the active video stream
     */
    getVideoAspectRatio() {
        // calculate ratio from video element dimensions if present
        const videoElement = this.nativeVideoElement;
        if (videoElement.videoWidth && videoElement.videoWidth > 0 &&
            videoElement.videoHeight && videoElement.videoHeight > 0) {
            return videoElement.videoWidth / videoElement.videoHeight;
        }
        // nothing present - calculate ratio based on width/height params
        return this.width / this.height;
    }
    /**
     * Init webcam live view
     */
    initWebcam(deviceId, userVideoTrackConstraints) {
        const _video = this.nativeVideoElement;
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            // merge deviceId -> userVideoTrackConstraints
            const videoTrackConstraints = WebcamComponent.getMediaConstraintsForDevice(deviceId, userVideoTrackConstraints);
            navigator.mediaDevices.getUserMedia({ video: videoTrackConstraints })
                .then((stream) => {
                this.mediaStream = stream;
                _video.srcObject = stream;
                _video.play();
                this.activeVideoSettings = stream.getVideoTracks()[0].getSettings();
                const activeDeviceId = WebcamComponent.getDeviceIdFromMediaStreamTrack(stream.getVideoTracks()[0]);
                this.cameraSwitched.next(activeDeviceId);
                // Initial detect may run before user gave permissions, returning no deviceIds. This prevents later camera switches. (#47)
                // Run detect once again within getUserMedia callback, to make sure this time we have permissions and get deviceIds.
                this.detectAvailableDevices()
                    .then(() => {
                    this.activeVideoInputIndex = activeDeviceId ? this.availableVideoInputs
                        .findIndex((mediaDeviceInfo) => mediaDeviceInfo.deviceId === activeDeviceId) : -1;
                    this.videoInitialized = true;
                })
                    .catch(() => {
                    this.activeVideoInputIndex = -1;
                    this.videoInitialized = true;
                });
            })
                .catch((err) => {
                this.initError.next({ message: err.message, mediaStreamError: err });
            });
        }
        else {
            this.initError.next({ message: 'Cannot read UserMedia from MediaDevices.' });
        }
    }
    getActiveVideoTrack() {
        return this.mediaStream ? this.mediaStream.getVideoTracks()[0] : null;
    }
    isMirrorImage() {
        if (!this.getActiveVideoTrack()) {
            return false;
        }
        // check for explicit mirror override parameter
        {
            let mirror = 'auto';
            if (this.mirrorImage) {
                if (typeof this.mirrorImage === 'string') {
                    mirror = String(this.mirrorImage).toLowerCase();
                }
                else {
                    // WebcamMirrorProperties
                    if (this.mirrorImage.x) {
                        mirror = this.mirrorImage.x.toLowerCase();
                    }
                }
            }
            switch (mirror) {
                case 'always':
                    return true;
                case 'never':
                    return false;
            }
        }
        // default: enable mirroring if webcam is user facing
        return WebcamComponent.isUserFacing(this.getActiveVideoTrack());
    }
    /**
     * Stops all active media tracks.
     * This prevents the webcam from being indicated as active,
     * even if it is no longer used by this component.
     */
    stopMediaTracks() {
        if (this.mediaStream && this.mediaStream.getTracks) {
            // getTracks() returns all media tracks (video+audio)
            this.mediaStream.getTracks()
                .forEach((track) => track.stop());
        }
    }
    /**
     * Unsubscribe from all open subscriptions
     */
    unsubscribeFromSubscriptions() {
        if (this.triggerSubscription) {
            this.triggerSubscription.unsubscribe();
        }
        if (this.switchCameraSubscription) {
            this.switchCameraSubscription.unsubscribe();
        }
    }
    /**
     * Reads available input devices
     */
    detectAvailableDevices() {
        return new Promise((resolve, reject) => {
            WebcamUtil.getAvailableVideoInputs()
                .then((devices) => {
                this.availableVideoInputs = devices;
                resolve(devices);
            })
                .catch(err => {
                this.availableVideoInputs = [];
                reject(err);
            });
        });
    }
}
WebcamComponent.ɵfac = function WebcamComponent_Factory(t) { return new (t || WebcamComponent)(); };
WebcamComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: WebcamComponent, selectors: [["webcam"]], viewQuery: function WebcamComponent_Query(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵviewQuery(_c0, 3);
        ɵngcc0.ɵɵviewQuery(_c1, 3);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.video = _t.first);
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.canvas = _t.first);
    } }, inputs: { width: "width", height: "height", videoOptions: "videoOptions", allowCameraSwitch: "allowCameraSwitch", captureImageData: "captureImageData", imageType: "imageType", imageQuality: "imageQuality", trigger: "trigger", switchCamera: "switchCamera", mirrorImage: "mirrorImage" }, outputs: { imageCapture: "imageCapture", initError: "initError", imageClick: "imageClick", cameraSwitched: "cameraSwitched" }, decls: 6, vars: 7, consts: [[1, "webcam-wrapper", 3, "click"], ["autoplay", "", "muted", "", "playsinline", "", 3, "width", "height", "resize"], ["video", ""], ["class", "camera-switch", 3, "click", 4, "ngIf"], [3, "width", "height"], ["canvas", ""], [1, "camera-switch", 3, "click"]], template: function WebcamComponent_Template(rf, ctx) { if (rf & 1) {
        ɵngcc0.ɵɵelementStart(0, "div", 0);
        ɵngcc0.ɵɵlistener("click", function WebcamComponent_Template_div_click_0_listener() { return ctx.imageClick.next(); });
        ɵngcc0.ɵɵelementStart(1, "video", 1, 2);
        ɵngcc0.ɵɵlistener("resize", function WebcamComponent_Template_video_resize_1_listener() { return ctx.videoResize(); });
        ɵngcc0.ɵɵelementEnd();
        ɵngcc0.ɵɵtemplate(3, WebcamComponent_div_3_Template, 1, 0, "div", 3);
        ɵngcc0.ɵɵelement(4, "canvas", 4, 5);
        ɵngcc0.ɵɵelementEnd();
    } if (rf & 2) {
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵclassMap(ctx.videoStyleClasses);
        ɵngcc0.ɵɵproperty("width", ctx.videoWidth)("height", ctx.videoHeight);
        ɵngcc0.ɵɵadvance(2);
        ɵngcc0.ɵɵproperty("ngIf", ctx.allowCameraSwitch && ctx.availableVideoInputs.length > 1 && ctx.videoInitialized);
        ɵngcc0.ɵɵadvance(1);
        ɵngcc0.ɵɵproperty("width", ctx.width)("height", ctx.height);
    } }, directives: [ɵngcc1.NgIf], styles: [".webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC\");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}"] });
WebcamComponent.DEFAULT_VIDEO_OPTIONS = { facingMode: 'environment' };
WebcamComponent.DEFAULT_IMAGE_TYPE = 'image/jpeg';
WebcamComponent.DEFAULT_IMAGE_QUALITY = 0.92;
WebcamComponent.propDecorators = {
    width: [{ type: Input }],
    height: [{ type: Input }],
    videoOptions: [{ type: Input }],
    allowCameraSwitch: [{ type: Input }],
    mirrorImage: [{ type: Input }],
    captureImageData: [{ type: Input }],
    imageType: [{ type: Input }],
    imageQuality: [{ type: Input }],
    imageCapture: [{ type: Output }],
    initError: [{ type: Output }],
    imageClick: [{ type: Output }],
    cameraSwitched: [{ type: Output }],
    video: [{ type: ViewChild, args: ['video', { static: true },] }],
    canvas: [{ type: ViewChild, args: ['canvas', { static: true },] }],
    trigger: [{ type: Input }],
    switchCamera: [{ type: Input }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(WebcamComponent, [{
        type: Component,
        args: [{
                selector: 'webcam',
                template: "<div class=\"webcam-wrapper\" (click)=\"imageClick.next();\">\r\n  <video #video [width]=\"videoWidth\" [height]=\"videoHeight\" [class]=\"videoStyleClasses\" autoplay muted playsinline (resize)=\"videoResize()\"></video>\r\n  <div class=\"camera-switch\" *ngIf=\"allowCameraSwitch && availableVideoInputs.length > 1 && videoInitialized\" (click)=\"rotateVideoInput(true)\"></div>\r\n  <canvas #canvas [width]=\"width\" [height]=\"height\"></canvas>\r\n</div>\r\n",
                styles: [".webcam-wrapper{display:inline-block;line-height:0;position:relative}.webcam-wrapper video.mirrored{transform:scaleX(-1)}.webcam-wrapper canvas{display:none}.webcam-wrapper .camera-switch{background-color:rgba(0,0,0,.1);background-image:url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC\");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper .camera-switch:hover{background-color:rgba(0,0,0,.18)}"]
            }]
    }], function () { return []; }, { width: [{
            type: Input
        }], height: [{
            type: Input
        }], videoOptions: [{
            type: Input
        }], allowCameraSwitch: [{
            type: Input
        }], captureImageData: [{
            type: Input
        }], imageType: [{
            type: Input
        }], imageQuality: [{
            type: Input
        }], imageCapture: [{
            type: Output
        }], initError: [{
            type: Output
        }], imageClick: [{
            type: Output
        }], cameraSwitched: [{
            type: Output
        }], trigger: [{
            type: Input
        }], switchCamera: [{
            type: Input
        }], mirrorImage: [{
            type: Input
        }], video: [{
            type: ViewChild,
            args: ['video', { static: true }]
        }], canvas: [{
            type: ViewChild,
            args: ['canvas', { static: true }]
        }] }); })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid2ViY2FtLmNvbXBvbmVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2FwcC9tb2R1bGVzL3dlYmNhbS93ZWJjYW0vd2ViY2FtLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWdCLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFhLE1BQU0sRUFBRSxTQUFTLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFMUcsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLHdCQUF3QixDQUFDO0FBRW5ELE9BQU8sRUFBQyxVQUFVLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQzs7Ozs7Ozs7Ozs7O0FBUS9DLE1BQU0sT0FBTyxlQUFlO0FBQUksSUFMaEM7QUFDRyxRQVNELHFEQUFxRDtBQUN2RCxRQUFrQixVQUFLLEdBQVcsR0FBRyxDQUFDO0FBQ3RDLFFBQUUsc0RBQXNEO0FBQ3hELFFBQWtCLFdBQU0sR0FBVyxHQUFHLENBQUM7QUFDdkMsUUFBRSxtRkFBbUY7QUFDckYsUUFBa0IsaUJBQVksR0FBMEIsZUFBZSxDQUFDLHFCQUFxQixDQUFDO0FBQzlGLFFBQUUsdUhBQXVIO0FBQ3pILFFBQWtCLHNCQUFpQixHQUFZLElBQUksQ0FBQztBQUNwRCxRQUVFLHlGQUF5RjtBQUMzRixRQUFrQixxQkFBZ0IsR0FBWSxLQUFLLENBQUM7QUFDcEQsUUFBRSxxREFBcUQ7QUFDdkQsUUFBa0IsY0FBUyxHQUFXLGVBQWUsQ0FBQyxrQkFBa0IsQ0FBQztBQUN6RSxRQUFFLGlGQUFpRjtBQUNuRixRQUFrQixpQkFBWSxHQUFXLGVBQWUsQ0FBQyxxQkFBcUIsQ0FBQztBQUMvRSxRQUNFLCtEQUErRDtBQUNqRSxRQUFtQixpQkFBWSxHQUE4QixJQUFJLFlBQVksRUFBZSxDQUFDO0FBQzdGLFFBQUUseUZBQXlGO0FBQzNGLFFBQW1CLGNBQVMsR0FBa0MsSUFBSSxZQUFZLEVBQW1CLENBQUM7QUFDbEcsUUFBRSw4Q0FBOEM7QUFDaEQsUUFBbUIsZUFBVSxHQUF1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QUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFHQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBNFdBLEFBQUEsQUExV0EsQUFFQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBTUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBS0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBTUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFFQSxBQU1BLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBR0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUdBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBRUEsQUFFQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBR0EsQUFHQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFFQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUVBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBSUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUVBLEFBRUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQTVaQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQVJBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBT0EsQUFBQSxBQUVBLEFBQUEsQUFFQSxBQUFBLEFBRUEsQUFBQSxBQUVBLEFBQUEsQUFFQSxBQUFBLEFBRUEsQUFBQSxBQUVBLEFBQUEsQUFHQSxBQUFBLEFBRUEsQUFBQSxBQUVBLEFBQUEsQUFFQSxBQUFBLEFBaUJBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFRQSxBQUFBLEFBbUJBLEFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0FmdGVyVmlld0luaXQsIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25EZXN0cm95LCBPdXRwdXQsIFZpZXdDaGlsZH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7V2ViY2FtSW5pdEVycm9yfSBmcm9tICcuLi9kb21haW4vd2ViY2FtLWluaXQtZXJyb3InO1xyXG5pbXBvcnQge1dlYmNhbUltYWdlfSBmcm9tICcuLi9kb21haW4vd2ViY2FtLWltYWdlJztcclxuaW1wb3J0IHtPYnNlcnZhYmxlLCBTdWJzY3JpcHRpb259IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQge1dlYmNhbVV0aWx9IGZyb20gJy4uL3V0aWwvd2ViY2FtLnV0aWwnO1xyXG5pbXBvcnQge1dlYmNhbU1pcnJvclByb3BlcnRpZXN9IGZyb20gJy4uL2RvbWFpbi93ZWJjYW0tbWlycm9yLXByb3BlcnRpZXMnO1xyXG5cclxuQENvbXBvbmVudCh7XHJcbiAgc2VsZWN0b3I6ICd3ZWJjYW0nLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi93ZWJjYW0uY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL3dlYmNhbS5jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBXZWJjYW1Db21wb25lbnQgaW1wbGVtZW50cyBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xyXG4gIHByaXZhdGUgc3RhdGljIERFRkFVTFRfVklERU9fT1BUSU9OUzogTWVkaWFUcmFja0NvbnN0cmFpbnRzID0ge2ZhY2luZ01vZGU6ICdlbnZpcm9ubWVudCd9O1xyXG4gIHByaXZhdGUgc3RhdGljIERFRkFVTFRfSU1BR0VfVFlQRTogc3RyaW5nID0gJ2ltYWdlL2pwZWcnO1xyXG4gIHByaXZhdGUgc3RhdGljIERFRkFVTFRfSU1BR0VfUVVBTElUWTogbnVtYmVyID0gMC45MjtcclxuXHJcbiAgLyoqIERlZmluZXMgdGhlIG1heCB3aWR0aCBvZiB0aGUgd2ViY2FtIGFyZWEgaW4gcHggKi9cclxuICBASW5wdXQoKSBwdWJsaWMgd2lkdGg6IG51bWJlciA9IDY0MDtcclxuICAvKiogRGVmaW5lcyB0aGUgbWF4IGhlaWdodCBvZiB0aGUgd2ViY2FtIGFyZWEgaW4gcHggKi9cclxuICBASW5wdXQoKSBwdWJsaWMgaGVpZ2h0OiBudW1iZXIgPSA0ODA7XHJcbiAgLyoqIERlZmluZXMgYmFzZSBjb25zdHJhaW50cyB0byBhcHBseSB3aGVuIHJlcXVlc3RpbmcgdmlkZW8gdHJhY2sgZnJvbSBVc2VyTWVkaWEgKi9cclxuICBASW5wdXQoKSBwdWJsaWMgdmlkZW9PcHRpb25zOiBNZWRpYVRyYWNrQ29uc3RyYWludHMgPSBXZWJjYW1Db21wb25lbnQuREVGQVVMVF9WSURFT19PUFRJT05TO1xyXG4gIC8qKiBGbGFnIHRvIGVuYWJsZS9kaXNhYmxlIGNhbWVyYSBzd2l0Y2guIElmIGVuYWJsZWQsIGEgc3dpdGNoIGljb24gd2lsbCBiZSBkaXNwbGF5ZWQgaWYgbXVsdGlwbGUgY2FtZXJhcyB3ZXJlIGZvdW5kICovXHJcbiAgQElucHV0KCkgcHVibGljIGFsbG93Q2FtZXJhU3dpdGNoOiBib29sZWFuID0gdHJ1ZTtcclxuICAvKiogUGFyYW1ldGVyIHRvIGNvbnRyb2wgaW1hZ2UgbWlycm9yaW5nIChpLmUuIGZvciB1c2VyLWZhY2luZyBjYW1lcmEpLiBbXCJhdXRvXCIsIFwiYWx3YXlzXCIsIFwibmV2ZXJcIl0gKi9cclxuICBASW5wdXQoKSBwdWJsaWMgbWlycm9ySW1hZ2U6IHN0cmluZyB8IFdlYmNhbU1pcnJvclByb3BlcnRpZXM7XHJcbiAgLyoqIEZsYWcgdG8gY29udHJvbCB3aGV0aGVyIGFuIEltYWdlRGF0YSBvYmplY3QgaXMgc3RvcmVkIGludG8gdGhlIFdlYmNhbUltYWdlIG9iamVjdC4gKi9cclxuICBASW5wdXQoKSBwdWJsaWMgY2FwdHVyZUltYWdlRGF0YTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIC8qKiBUaGUgaW1hZ2UgdHlwZSB0byB1c2Ugd2hlbiBjYXB0dXJpbmcgc25hcHNob3RzICovXHJcbiAgQElucHV0KCkgcHVibGljIGltYWdlVHlwZTogc3RyaW5nID0gV2ViY2FtQ29tcG9uZW50LkRFRkFVTFRfSU1BR0VfVFlQRTtcclxuICAvKiogVGhlIGltYWdlIHF1YWxpdHkgdG8gdXNlIHdoZW4gY2FwdHVyaW5nIHNuYXBzaG90cyAobnVtYmVyIGJldHdlZW4gMCBhbmQgMSkgKi9cclxuICBASW5wdXQoKSBwdWJsaWMgaW1hZ2VRdWFsaXR5OiBudW1iZXIgPSBXZWJjYW1Db21wb25lbnQuREVGQVVMVF9JTUFHRV9RVUFMSVRZO1xyXG5cclxuICAvKiogRXZlbnRFbWl0dGVyIHdoaWNoIGZpcmVzIHdoZW4gYW4gaW1hZ2UgaGFzIGJlZW4gY2FwdHVyZWQgKi9cclxuICBAT3V0cHV0KCkgcHVibGljIGltYWdlQ2FwdHVyZTogRXZlbnRFbWl0dGVyPFdlYmNhbUltYWdlPiA9IG5ldyBFdmVudEVtaXR0ZXI8V2ViY2FtSW1hZ2U+KCk7XHJcbiAgLyoqIEVtaXRzIGEgbWVkaWFFcnJvciBpZiB3ZWJjYW0gY2Fubm90IGJlIGluaXRpYWxpemVkIChlLmcuIG1pc3NpbmcgdXNlciBwZXJtaXNzaW9ucykgKi9cclxuICBAT3V0cHV0KCkgcHVibGljIGluaXRFcnJvcjogRXZlbnRFbWl0dGVyPFdlYmNhbUluaXRFcnJvcj4gPSBuZXcgRXZlbnRFbWl0dGVyPFdlYmNhbUluaXRFcnJvcj4oKTtcclxuICAvKiogRW1pdHMgd2hlbiB0aGUgd2ViY2FtIHZpZGVvIHdhcyBjbGlja2VkICovXHJcbiAgQE91dHB1dCgpIHB1YmxpYyBpbWFnZUNsaWNrOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XHJcbiAgLyoqIEVtaXRzIHRoZSBhY3RpdmUgZGV2aWNlSWQgYWZ0ZXIgdGhlIGFjdGl2ZSB2aWRlbyBkZXZpY2Ugd2FzIHN3aXRjaGVkICovXHJcbiAgQE91dHB1dCgpIHB1YmxpYyBjYW1lcmFTd2l0Y2hlZDogRXZlbnRFbWl0dGVyPHN0cmluZz4gPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcclxuXHJcbiAgLyoqIGF2YWlsYWJsZSB2aWRlbyBkZXZpY2VzICovXHJcbiAgcHVibGljIGF2YWlsYWJsZVZpZGVvSW5wdXRzOiBNZWRpYURldmljZUluZm9bXSA9IFtdO1xyXG5cclxuICAvKiogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHZpZGVvIGRldmljZSBpcyByZWFkeSB0byBiZSBzd2l0Y2hlZCAqL1xyXG4gIHB1YmxpYyB2aWRlb0luaXRpYWxpemVkOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIC8qKiBJZiB0aGUgT2JzZXJ2YWJsZSByZXByZXNlbnRlZCBieSB0aGlzIHN1YnNjcmlwdGlvbiBlbWl0cywgYW4gaW1hZ2Ugd2lsbCBiZSBjYXB0dXJlZCBhbmQgZW1pdHRlZCB0aHJvdWdoXHJcbiAgICogdGhlICdpbWFnZUNhcHR1cmUnIEV2ZW50RW1pdHRlciAqL1xyXG4gIHByaXZhdGUgdHJpZ2dlclN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xyXG4gIC8qKiBJbmRleCBvZiBhY3RpdmUgdmlkZW8gaW4gYXZhaWxhYmxlVmlkZW9JbnB1dHMgKi9cclxuICBwcml2YXRlIGFjdGl2ZVZpZGVvSW5wdXRJbmRleDogbnVtYmVyID0gLTE7XHJcbiAgLyoqIFN1YnNjcmlwdGlvbiB0byBzd2l0Y2hDYW1lcmEgZXZlbnRzICovXHJcbiAgcHJpdmF0ZSBzd2l0Y2hDYW1lcmFTdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcclxuICAvKiogTWVkaWFTdHJlYW0gb2JqZWN0IGluIHVzZSBmb3Igc3RyZWFtaW5nIFVzZXJNZWRpYSBkYXRhICovXHJcbiAgcHJpdmF0ZSBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gPSBudWxsO1xyXG4gIEBWaWV3Q2hpbGQoJ3ZpZGVvJywgeyBzdGF0aWM6IHRydWUgfSkgcHJpdmF0ZSB2aWRlbzogYW55O1xyXG4gIC8qKiBDYW52YXMgZm9yIFZpZGVvIFNuYXBzaG90cyAqL1xyXG4gIEBWaWV3Q2hpbGQoJ2NhbnZhcycsIHsgc3RhdGljOiB0cnVlIH0pIHByaXZhdGUgY2FudmFzOiBhbnk7XHJcblxyXG4gIC8qKiB3aWR0aCBhbmQgaGVpZ2h0IG9mIHRoZSBhY3RpdmUgdmlkZW8gc3RyZWFtICovXHJcbiAgcHJpdmF0ZSBhY3RpdmVWaWRlb1NldHRpbmdzOiBNZWRpYVRyYWNrU2V0dGluZ3MgPSBudWxsO1xyXG5cclxuICAvKipcclxuICAgKiBJZiB0aGUgZ2l2ZW4gT2JzZXJ2YWJsZSBlbWl0cywgYW4gaW1hZ2Ugd2lsbCBiZSBjYXB0dXJlZCBhbmQgZW1pdHRlZCB0aHJvdWdoICdpbWFnZUNhcHR1cmUnIEV2ZW50RW1pdHRlclxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIHNldCB0cmlnZ2VyKHRyaWdnZXI6IE9ic2VydmFibGU8dm9pZD4pIHtcclxuICAgIGlmICh0aGlzLnRyaWdnZXJTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy50cmlnZ2VyU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU3Vic2NyaWJlIHRvIGV2ZW50cyBmcm9tIHRoaXMgT2JzZXJ2YWJsZSB0byB0YWtlIHNuYXBzaG90c1xyXG4gICAgdGhpcy50cmlnZ2VyU3Vic2NyaXB0aW9uID0gdHJpZ2dlci5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLnRha2VTbmFwc2hvdCgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJZiB0aGUgZ2l2ZW4gT2JzZXJ2YWJsZSBlbWl0cywgdGhlIGFjdGl2ZSB3ZWJjYW0gd2lsbCBiZSBzd2l0Y2hlZCB0byB0aGUgb25lIGluZGljYXRlZCBieSB0aGUgZW1pdHRlZCB2YWx1ZS5cclxuICAgKiBAcGFyYW0gc3dpdGNoQ2FtZXJhIEluZGljYXRlcyB3aGljaCB3ZWJjYW0gdG8gc3dpdGNoIHRvXHJcbiAgICogICB0cnVlOiBjeWNsZSBmb3J3YXJkcyB0aHJvdWdoIGF2YWlsYWJsZSB3ZWJjYW1zXHJcbiAgICogICBmYWxzZTogY3ljbGUgYmFja3dhcmRzIHRocm91Z2ggYXZhaWxhYmxlIHdlYmNhbXNcclxuICAgKiAgIHN0cmluZzogYWN0aXZhdGUgdGhlIHdlYmNhbSB3aXRoIHRoZSBnaXZlbiBpZFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpXHJcbiAgcHVibGljIHNldCBzd2l0Y2hDYW1lcmEoc3dpdGNoQ2FtZXJhOiBPYnNlcnZhYmxlPGJvb2xlYW4gfCBzdHJpbmc+KSB7XHJcbiAgICBpZiAodGhpcy5zd2l0Y2hDYW1lcmFTdWJzY3JpcHRpb24pIHtcclxuICAgICAgdGhpcy5zd2l0Y2hDYW1lcmFTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTdWJzY3JpYmUgdG8gZXZlbnRzIGZyb20gdGhpcyBPYnNlcnZhYmxlIHRvIHN3aXRjaCB2aWRlbyBkZXZpY2VcclxuICAgIHRoaXMuc3dpdGNoQ2FtZXJhU3Vic2NyaXB0aW9uID0gc3dpdGNoQ2FtZXJhLnN1YnNjcmliZSgodmFsdWU6IGJvb2xlYW4gfCBzdHJpbmcpID0+IHtcclxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAvLyBkZXZpY2VJZCB3YXMgc3BlY2lmaWVkXHJcbiAgICAgICAgdGhpcy5zd2l0Y2hUb1ZpZGVvSW5wdXQodmFsdWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGRpcmVjdGlvbiB3YXMgc3BlY2lmaWVkXHJcbiAgICAgICAgdGhpcy5yb3RhdGVWaWRlb0lucHV0KHZhbHVlICE9PSBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0IE1lZGlhVHJhY2tDb25zdHJhaW50cyB0byByZXF1ZXN0IHN0cmVhbWluZyB0aGUgZ2l2ZW4gZGV2aWNlXHJcbiAgICogQHBhcmFtIGRldmljZUlkXHJcbiAgICogQHBhcmFtIGJhc2VNZWRpYVRyYWNrQ29uc3RyYWludHMgYmFzZSBjb25zdHJhaW50cyB0byBtZXJnZSBkZXZpY2VJZC1jb25zdHJhaW50IGludG9cclxuICAgKiBAcmV0dXJuc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldE1lZGlhQ29uc3RyYWludHNGb3JEZXZpY2UoZGV2aWNlSWQ6IHN0cmluZywgYmFzZU1lZGlhVHJhY2tDb25zdHJhaW50czogTWVkaWFUcmFja0NvbnN0cmFpbnRzKTogTWVkaWFUcmFja0NvbnN0cmFpbnRzIHtcclxuICAgIGNvbnN0IHJlc3VsdDogTWVkaWFUcmFja0NvbnN0cmFpbnRzID0gYmFzZU1lZGlhVHJhY2tDb25zdHJhaW50cyA/IGJhc2VNZWRpYVRyYWNrQ29uc3RyYWludHMgOiB0aGlzLkRFRkFVTFRfVklERU9fT1BUSU9OUztcclxuICAgIGlmIChkZXZpY2VJZCkge1xyXG4gICAgICByZXN1bHQuZGV2aWNlSWQgPSB7ZXhhY3Q6IGRldmljZUlkfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVHJpZXMgdG8gaGFydmVzdCB0aGUgZGV2aWNlSWQgZnJvbSB0aGUgZ2l2ZW4gbWVkaWFTdHJlYW1UcmFjayBvYmplY3QuXHJcbiAgICogQnJvd3NlcnMgcG9wdWxhdGUgdGhpcyBvYmplY3QgZGlmZmVyZW50bHk7IHRoaXMgbWV0aG9kIHRyaWVzIHNvbWUgZGlmZmVyZW50IGFwcHJvYWNoZXNcclxuICAgKiB0byByZWFkIHRoZSBpZC5cclxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW1UcmFja1xyXG4gICAqIEByZXR1cm5zIGRldmljZUlkIGlmIGZvdW5kIGluIHRoZSBtZWRpYVN0cmVhbVRyYWNrXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgZ2V0RGV2aWNlSWRGcm9tTWVkaWFTdHJlYW1UcmFjayhtZWRpYVN0cmVhbVRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrKTogc3RyaW5nIHtcclxuICAgIGlmIChtZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzICYmIG1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKSAmJiBtZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCkuZGV2aWNlSWQpIHtcclxuICAgICAgcmV0dXJuIG1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcclxuICAgIH0gZWxzZSBpZiAobWVkaWFTdHJlYW1UcmFjay5nZXRDb25zdHJhaW50cyAmJiBtZWRpYVN0cmVhbVRyYWNrLmdldENvbnN0cmFpbnRzKCkgJiYgbWVkaWFTdHJlYW1UcmFjay5nZXRDb25zdHJhaW50cygpLmRldmljZUlkKSB7XHJcbiAgICAgIGNvbnN0IGRldmljZUlkT2JqOiBDb25zdHJhaW5ET01TdHJpbmcgPSBtZWRpYVN0cmVhbVRyYWNrLmdldENvbnN0cmFpbnRzKCkuZGV2aWNlSWQ7XHJcbiAgICAgIHJldHVybiBXZWJjYW1Db21wb25lbnQuZ2V0VmFsdWVGcm9tQ29uc3RyYWluRE9NU3RyaW5nKGRldmljZUlkT2JqKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFRyaWVzIHRvIGhhcnZlc3QgdGhlIGZhY2luZ01vZGUgZnJvbSB0aGUgZ2l2ZW4gbWVkaWFTdHJlYW1UcmFjayBvYmplY3QuXHJcbiAgICogQnJvd3NlcnMgcG9wdWxhdGUgdGhpcyBvYmplY3QgZGlmZmVyZW50bHk7IHRoaXMgbWV0aG9kIHRyaWVzIHNvbWUgZGlmZmVyZW50IGFwcHJvYWNoZXNcclxuICAgKiB0byByZWFkIHRoZSB2YWx1ZS5cclxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW1UcmFja1xyXG4gICAqIEByZXR1cm5zIGZhY2luZ01vZGUgaWYgZm91bmQgaW4gdGhlIG1lZGlhU3RyZWFtVHJhY2tcclxuICAgKi9cclxuICBwcml2YXRlIHN0YXRpYyBnZXRGYWNpbmdNb2RlRnJvbU1lZGlhU3RyZWFtVHJhY2sobWVkaWFTdHJlYW1UcmFjazogTWVkaWFTdHJlYW1UcmFjayk6IHN0cmluZyB7XHJcbiAgICBpZiAobWVkaWFTdHJlYW1UcmFjaykge1xyXG4gICAgICBpZiAobWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncyAmJiBtZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCkgJiYgbWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpLmZhY2luZ01vZGUpIHtcclxuICAgICAgICByZXR1cm4gbWVkaWFTdHJlYW1UcmFjay5nZXRTZXR0aW5ncygpLmZhY2luZ01vZGU7XHJcbiAgICAgIH0gZWxzZSBpZiAobWVkaWFTdHJlYW1UcmFjay5nZXRDb25zdHJhaW50cyAmJiBtZWRpYVN0cmVhbVRyYWNrLmdldENvbnN0cmFpbnRzKCkgJiYgbWVkaWFTdHJlYW1UcmFjay5nZXRDb25zdHJhaW50cygpLmZhY2luZ01vZGUpIHtcclxuICAgICAgICBjb25zdCBmYWNpbmdNb2RlQ29uc3RyYWludDogQ29uc3RyYWluRE9NU3RyaW5nID0gbWVkaWFTdHJlYW1UcmFjay5nZXRDb25zdHJhaW50cygpLmZhY2luZ01vZGU7XHJcbiAgICAgICAgcmV0dXJuIFdlYmNhbUNvbXBvbmVudC5nZXRWYWx1ZUZyb21Db25zdHJhaW5ET01TdHJpbmcoZmFjaW5nTW9kZUNvbnN0cmFpbnQpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhlIGdpdmVuIG1lZGlhU3RyZWFtVHJhY2sgY2xhaW1zIGl0c2VsZiBhcyB1c2VyIGZhY2luZ1xyXG4gICAqIEBwYXJhbSBtZWRpYVN0cmVhbVRyYWNrXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBzdGF0aWMgaXNVc2VyRmFjaW5nKG1lZGlhU3RyZWFtVHJhY2s6IE1lZGlhU3RyZWFtVHJhY2spOiBib29sZWFuIHtcclxuICAgIGNvbnN0IGZhY2luZ01vZGU6IHN0cmluZyA9IFdlYmNhbUNvbXBvbmVudC5nZXRGYWNpbmdNb2RlRnJvbU1lZGlhU3RyZWFtVHJhY2sobWVkaWFTdHJlYW1UcmFjayk7XHJcbiAgICByZXR1cm4gZmFjaW5nTW9kZSA/ICd1c2VyJyA9PT0gZmFjaW5nTW9kZS50b0xvd2VyQ2FzZSgpIDogZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBFeHRyYWN0cyB0aGUgdmFsdWUgZnJvbSB0aGUgZ2l2ZW4gQ29uc3RyYWluRE9NU3RyaW5nXHJcbiAgICogQHBhcmFtIGNvbnN0cmFpbkRPTVN0cmluZ1xyXG4gICAqL1xyXG4gIHByaXZhdGUgc3RhdGljIGdldFZhbHVlRnJvbUNvbnN0cmFpbkRPTVN0cmluZyhjb25zdHJhaW5ET01TdHJpbmc6IENvbnN0cmFpbkRPTVN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZiAoY29uc3RyYWluRE9NU3RyaW5nKSB7XHJcbiAgICAgIGlmIChjb25zdHJhaW5ET01TdHJpbmcgaW5zdGFuY2VvZiBTdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nKGNvbnN0cmFpbkRPTVN0cmluZyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb25zdHJhaW5ET01TdHJpbmcpICYmIEFycmF5KGNvbnN0cmFpbkRPTVN0cmluZykubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHJldHVybiBTdHJpbmcoY29uc3RyYWluRE9NU3RyaW5nWzBdKTtcclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgY29uc3RyYWluRE9NU3RyaW5nID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChjb25zdHJhaW5ET01TdHJpbmdbJ2V4YWN0J10pIHtcclxuICAgICAgICAgIHJldHVybiBTdHJpbmcoY29uc3RyYWluRE9NU3RyaW5nWydleGFjdCddKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbkRPTVN0cmluZ1snaWRlYWwnXSkge1xyXG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhjb25zdHJhaW5ET01TdHJpbmdbJ2lkZWFsJ10pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHVibGljIG5nQWZ0ZXJWaWV3SW5pdCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZGV0ZWN0QXZhaWxhYmxlRGV2aWNlcygpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAvLyBzdGFydCB2aWRlb1xyXG4gICAgICAgIHRoaXMuc3dpdGNoVG9WaWRlb0lucHV0KG51bGwpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pbml0RXJyb3IubmV4dCg8V2ViY2FtSW5pdEVycm9yPnttZXNzYWdlOiBlcnJ9KTtcclxuICAgICAgICAvLyBmYWxsYmFjazogc3RpbGwgdHJ5IHRvIGxvYWQgd2ViY2FtLCBldmVuIGlmIGRldmljZSBlbnVtZXJhdGlvbiBmYWlsZWRcclxuICAgICAgICB0aGlzLnN3aXRjaFRvVmlkZW9JbnB1dChudWxsKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLnN0b3BNZWRpYVRyYWNrcygpO1xyXG4gICAgdGhpcy51bnN1YnNjcmliZUZyb21TdWJzY3JpcHRpb25zKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUYWtlcyBhIHNuYXBzaG90IG9mIHRoZSBjdXJyZW50IHdlYmNhbSdzIHZpZXcgYW5kIGVtaXRzIHRoZSBpbWFnZSBhcyBhbiBldmVudFxyXG4gICAqL1xyXG4gIHB1YmxpYyB0YWtlU25hcHNob3QoKTogdm9pZCB7XHJcbiAgICAvLyBzZXQgY2FudmFzIHNpemUgdG8gYWN0dWFsIHZpZGVvIHNpemVcclxuICAgIGNvbnN0IF92aWRlbyA9IHRoaXMubmF0aXZlVmlkZW9FbGVtZW50O1xyXG4gICAgY29uc3QgZGltZW5zaW9ucyA9IHt3aWR0aDogdGhpcy53aWR0aCwgaGVpZ2h0OiB0aGlzLmhlaWdodH07XHJcbiAgICBpZiAoX3ZpZGVvLnZpZGVvV2lkdGgpIHtcclxuICAgICAgZGltZW5zaW9ucy53aWR0aCA9IF92aWRlby52aWRlb1dpZHRoO1xyXG4gICAgICBkaW1lbnNpb25zLmhlaWdodCA9IF92aWRlby52aWRlb0hlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBfY2FudmFzID0gdGhpcy5jYW52YXMubmF0aXZlRWxlbWVudDtcclxuICAgIF9jYW52YXMud2lkdGggPSBkaW1lbnNpb25zLndpZHRoO1xyXG4gICAgX2NhbnZhcy5oZWlnaHQgPSBkaW1lbnNpb25zLmhlaWdodDtcclxuXHJcbiAgICAvLyBwYWludCBzbmFwc2hvdCBpbWFnZSB0byBjYW52YXNcclxuICAgIGNvbnN0IGNvbnRleHQyZCA9IF9jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgIGNvbnRleHQyZC5kcmF3SW1hZ2UoX3ZpZGVvLCAwLCAwKTtcclxuXHJcbiAgICAvLyByZWFkIGNhbnZhcyBjb250ZW50IGFzIGltYWdlXHJcbiAgICBjb25zdCBtaW1lVHlwZTogc3RyaW5nID0gdGhpcy5pbWFnZVR5cGUgPyB0aGlzLmltYWdlVHlwZSA6IFdlYmNhbUNvbXBvbmVudC5ERUZBVUxUX0lNQUdFX1RZUEU7XHJcbiAgICBjb25zdCBxdWFsaXR5OiBudW1iZXIgPSB0aGlzLmltYWdlUXVhbGl0eSA/IHRoaXMuaW1hZ2VRdWFsaXR5IDogV2ViY2FtQ29tcG9uZW50LkRFRkFVTFRfSU1BR0VfUVVBTElUWTtcclxuICAgIGNvbnN0IGRhdGFVcmw6IHN0cmluZyA9IF9jYW52YXMudG9EYXRhVVJMKG1pbWVUeXBlLCBxdWFsaXR5KTtcclxuXHJcbiAgICAvLyBnZXQgdGhlIEltYWdlRGF0YSBvYmplY3QgZnJvbSB0aGUgY2FudmFzJyBjb250ZXh0LlxyXG4gICAgbGV0IGltYWdlRGF0YTogSW1hZ2VEYXRhID0gbnVsbDtcclxuXHJcbiAgICBpZiAodGhpcy5jYXB0dXJlSW1hZ2VEYXRhKSB7XHJcbiAgICAgIGltYWdlRGF0YSA9IGNvbnRleHQyZC5nZXRJbWFnZURhdGEoMCwgMCwgX2NhbnZhcy53aWR0aCwgX2NhbnZhcy5oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuaW1hZ2VDYXB0dXJlLm5leHQobmV3IFdlYmNhbUltYWdlKGRhdGFVcmwsIG1pbWVUeXBlLCBpbWFnZURhdGEpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN3aXRjaGVzIHRvIHRoZSBuZXh0L3ByZXZpb3VzIHZpZGVvIGRldmljZVxyXG4gICAqIEBwYXJhbSBmb3J3YXJkXHJcbiAgICovXHJcbiAgcHVibGljIHJvdGF0ZVZpZGVvSW5wdXQoZm9yd2FyZDogYm9vbGVhbikge1xyXG4gICAgaWYgKHRoaXMuYXZhaWxhYmxlVmlkZW9JbnB1dHMgJiYgdGhpcy5hdmFpbGFibGVWaWRlb0lucHV0cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgIGNvbnN0IGluY3JlbWVudDogbnVtYmVyID0gZm9yd2FyZCA/IDEgOiAodGhpcy5hdmFpbGFibGVWaWRlb0lucHV0cy5sZW5ndGggLSAxKTtcclxuICAgICAgY29uc3QgbmV4dElucHV0SW5kZXggPSAodGhpcy5hY3RpdmVWaWRlb0lucHV0SW5kZXggKyBpbmNyZW1lbnQpICUgdGhpcy5hdmFpbGFibGVWaWRlb0lucHV0cy5sZW5ndGg7XHJcbiAgICAgIHRoaXMuc3dpdGNoVG9WaWRlb0lucHV0KHRoaXMuYXZhaWxhYmxlVmlkZW9JbnB1dHNbbmV4dElucHV0SW5kZXhdLmRldmljZUlkKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN3aXRjaGVzIHRoZSBjYW1lcmEtdmlldyB0byB0aGUgc3BlY2lmaWVkIHZpZGVvIGRldmljZVxyXG4gICAqL1xyXG4gIHB1YmxpYyBzd2l0Y2hUb1ZpZGVvSW5wdXQoZGV2aWNlSWQ6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgdGhpcy52aWRlb0luaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICB0aGlzLnN0b3BNZWRpYVRyYWNrcygpO1xyXG4gICAgdGhpcy5pbml0V2ViY2FtKGRldmljZUlkLCB0aGlzLnZpZGVvT3B0aW9ucyk7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogRXZlbnQtaGFuZGxlciBmb3IgdmlkZW8gcmVzaXplIGV2ZW50LlxyXG4gICAqIFRyaWdnZXJzIEFuZ3VsYXIgY2hhbmdlIGRldGVjdGlvbiBzbyB0aGF0IG5ldyB2aWRlbyBkaW1lbnNpb25zIGdldCBhcHBsaWVkXHJcbiAgICovXHJcbiAgcHVibGljIHZpZGVvUmVzaXplKCk6IHZvaWQge1xyXG4gICAgLy8gaGVyZSB0byB0cmlnZ2VyIEFuZ3VsYXIgY2hhbmdlIGRldGVjdGlvblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCB2aWRlb1dpZHRoKCkge1xyXG4gICAgY29uc3QgdmlkZW9SYXRpbyA9IHRoaXMuZ2V0VmlkZW9Bc3BlY3RSYXRpbygpO1xyXG4gICAgcmV0dXJuIE1hdGgubWluKHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0ICogdmlkZW9SYXRpbyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHZpZGVvSGVpZ2h0KCkge1xyXG4gICAgY29uc3QgdmlkZW9SYXRpbyA9IHRoaXMuZ2V0VmlkZW9Bc3BlY3RSYXRpbygpO1xyXG4gICAgcmV0dXJuIE1hdGgubWluKHRoaXMuaGVpZ2h0LCB0aGlzLndpZHRoIC8gdmlkZW9SYXRpbyk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgZ2V0IHZpZGVvU3R5bGVDbGFzc2VzKCkge1xyXG4gICAgbGV0IGNsYXNzZXM6IHN0cmluZyA9ICcnO1xyXG5cclxuICAgIGlmICh0aGlzLmlzTWlycm9ySW1hZ2UoKSkge1xyXG4gICAgICBjbGFzc2VzICs9ICdtaXJyb3JlZCAnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBjbGFzc2VzLnRyaW0oKTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBnZXQgbmF0aXZlVmlkZW9FbGVtZW50KCkge1xyXG4gICAgcmV0dXJuIHRoaXMudmlkZW8ubmF0aXZlRWxlbWVudDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybnMgdGhlIHZpZGVvIGFzcGVjdCByYXRpbyBvZiB0aGUgYWN0aXZlIHZpZGVvIHN0cmVhbVxyXG4gICAqL1xyXG4gIHByaXZhdGUgZ2V0VmlkZW9Bc3BlY3RSYXRpbygpOiBudW1iZXIge1xyXG4gICAgLy8gY2FsY3VsYXRlIHJhdGlvIGZyb20gdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zIGlmIHByZXNlbnRcclxuICAgIGNvbnN0IHZpZGVvRWxlbWVudCA9IHRoaXMubmF0aXZlVmlkZW9FbGVtZW50O1xyXG4gICAgaWYgKHZpZGVvRWxlbWVudC52aWRlb1dpZHRoICYmIHZpZGVvRWxlbWVudC52aWRlb1dpZHRoID4gMCAmJlxyXG4gICAgICB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgJiYgdmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0ID4gMCkge1xyXG5cclxuICAgICAgcmV0dXJuIHZpZGVvRWxlbWVudC52aWRlb1dpZHRoIC8gdmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIG5vdGhpbmcgcHJlc2VudCAtIGNhbGN1bGF0ZSByYXRpbyBiYXNlZCBvbiB3aWR0aC9oZWlnaHQgcGFyYW1zXHJcbiAgICByZXR1cm4gdGhpcy53aWR0aCAvIHRoaXMuaGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSW5pdCB3ZWJjYW0gbGl2ZSB2aWV3XHJcbiAgICovXHJcbiAgcHJpdmF0ZSBpbml0V2ViY2FtKGRldmljZUlkOiBzdHJpbmcsIHVzZXJWaWRlb1RyYWNrQ29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cykge1xyXG4gICAgY29uc3QgX3ZpZGVvID0gdGhpcy5uYXRpdmVWaWRlb0VsZW1lbnQ7XHJcbiAgICBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyAmJiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSkge1xyXG5cclxuICAgICAgLy8gbWVyZ2UgZGV2aWNlSWQgLT4gdXNlclZpZGVvVHJhY2tDb25zdHJhaW50c1xyXG4gICAgICBjb25zdCB2aWRlb1RyYWNrQ29uc3RyYWludHMgPSBXZWJjYW1Db21wb25lbnQuZ2V0TWVkaWFDb25zdHJhaW50c0ZvckRldmljZShkZXZpY2VJZCwgdXNlclZpZGVvVHJhY2tDb25zdHJhaW50cyk7XHJcblxyXG4gICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSg8TWVkaWFTdHJlYW1Db25zdHJhaW50cz57dmlkZW86IHZpZGVvVHJhY2tDb25zdHJhaW50c30pXHJcbiAgICAgICAgLnRoZW4oKHN0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcclxuICAgICAgICAgIHRoaXMubWVkaWFTdHJlYW0gPSBzdHJlYW07XHJcbiAgICAgICAgICBfdmlkZW8uc3JjT2JqZWN0ID0gc3RyZWFtO1xyXG4gICAgICAgICAgX3ZpZGVvLnBsYXkoKTtcclxuXHJcbiAgICAgICAgICB0aGlzLmFjdGl2ZVZpZGVvU2V0dGluZ3MgPSBzdHJlYW0uZ2V0VmlkZW9UcmFja3MoKVswXS5nZXRTZXR0aW5ncygpO1xyXG4gICAgICAgICAgY29uc3QgYWN0aXZlRGV2aWNlSWQ6IHN0cmluZyA9IFdlYmNhbUNvbXBvbmVudC5nZXREZXZpY2VJZEZyb21NZWRpYVN0cmVhbVRyYWNrKHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdKTtcclxuXHJcbiAgICAgICAgICB0aGlzLmNhbWVyYVN3aXRjaGVkLm5leHQoYWN0aXZlRGV2aWNlSWQpO1xyXG5cclxuICAgICAgICAgIC8vIEluaXRpYWwgZGV0ZWN0IG1heSBydW4gYmVmb3JlIHVzZXIgZ2F2ZSBwZXJtaXNzaW9ucywgcmV0dXJuaW5nIG5vIGRldmljZUlkcy4gVGhpcyBwcmV2ZW50cyBsYXRlciBjYW1lcmEgc3dpdGNoZXMuICgjNDcpXHJcbiAgICAgICAgICAvLyBSdW4gZGV0ZWN0IG9uY2UgYWdhaW4gd2l0aGluIGdldFVzZXJNZWRpYSBjYWxsYmFjaywgdG8gbWFrZSBzdXJlIHRoaXMgdGltZSB3ZSBoYXZlIHBlcm1pc3Npb25zIGFuZCBnZXQgZGV2aWNlSWRzLlxyXG4gICAgICAgICAgdGhpcy5kZXRlY3RBdmFpbGFibGVEZXZpY2VzKClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuYWN0aXZlVmlkZW9JbnB1dEluZGV4ID0gYWN0aXZlRGV2aWNlSWQgPyB0aGlzLmF2YWlsYWJsZVZpZGVvSW5wdXRzXHJcbiAgICAgICAgICAgICAgICAuZmluZEluZGV4KChtZWRpYURldmljZUluZm86IE1lZGlhRGV2aWNlSW5mbykgPT4gbWVkaWFEZXZpY2VJbmZvLmRldmljZUlkID09PSBhY3RpdmVEZXZpY2VJZCkgOiAtMTtcclxuICAgICAgICAgICAgICB0aGlzLnZpZGVvSW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xyXG4gICAgICAgICAgICAgIHRoaXMuYWN0aXZlVmlkZW9JbnB1dEluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgdGhpcy52aWRlb0luaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycjogTWVkaWFTdHJlYW1FcnJvcikgPT4ge1xyXG4gICAgICAgICAgdGhpcy5pbml0RXJyb3IubmV4dCg8V2ViY2FtSW5pdEVycm9yPnttZXNzYWdlOiBlcnIubWVzc2FnZSwgbWVkaWFTdHJlYW1FcnJvcjogZXJyfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmluaXRFcnJvci5uZXh0KDxXZWJjYW1Jbml0RXJyb3I+e21lc3NhZ2U6ICdDYW5ub3QgcmVhZCBVc2VyTWVkaWEgZnJvbSBNZWRpYURldmljZXMuJ30pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBnZXRBY3RpdmVWaWRlb1RyYWNrKCk6IE1lZGlhU3RyZWFtVHJhY2sge1xyXG4gICAgcmV0dXJuIHRoaXMubWVkaWFTdHJlYW0gPyB0aGlzLm1lZGlhU3RyZWFtLmdldFZpZGVvVHJhY2tzKClbMF0gOiBudWxsO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBpc01pcnJvckltYWdlKCk6IGJvb2xlYW4ge1xyXG4gICAgaWYgKCF0aGlzLmdldEFjdGl2ZVZpZGVvVHJhY2soKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gY2hlY2sgZm9yIGV4cGxpY2l0IG1pcnJvciBvdmVycmlkZSBwYXJhbWV0ZXJcclxuICAgIHtcclxuICAgICAgbGV0IG1pcnJvcjogc3RyaW5nID0gJ2F1dG8nO1xyXG4gICAgICBpZiAodGhpcy5taXJyb3JJbWFnZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5taXJyb3JJbWFnZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIG1pcnJvciA9IFN0cmluZyh0aGlzLm1pcnJvckltYWdlKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBXZWJjYW1NaXJyb3JQcm9wZXJ0aWVzXHJcbiAgICAgICAgICBpZiAodGhpcy5taXJyb3JJbWFnZS54KSB7XHJcbiAgICAgICAgICAgIG1pcnJvciA9IHRoaXMubWlycm9ySW1hZ2UueC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgc3dpdGNoIChtaXJyb3IpIHtcclxuICAgICAgICBjYXNlICdhbHdheXMnOlxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgY2FzZSAnbmV2ZXInOlxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZGVmYXVsdDogZW5hYmxlIG1pcnJvcmluZyBpZiB3ZWJjYW0gaXMgdXNlciBmYWNpbmdcclxuICAgIHJldHVybiBXZWJjYW1Db21wb25lbnQuaXNVc2VyRmFjaW5nKHRoaXMuZ2V0QWN0aXZlVmlkZW9UcmFjaygpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3BzIGFsbCBhY3RpdmUgbWVkaWEgdHJhY2tzLlxyXG4gICAqIFRoaXMgcHJldmVudHMgdGhlIHdlYmNhbSBmcm9tIGJlaW5nIGluZGljYXRlZCBhcyBhY3RpdmUsXHJcbiAgICogZXZlbiBpZiBpdCBpcyBubyBsb25nZXIgdXNlZCBieSB0aGlzIGNvbXBvbmVudC5cclxuICAgKi9cclxuICBwcml2YXRlIHN0b3BNZWRpYVRyYWNrcygpIHtcclxuICAgIGlmICh0aGlzLm1lZGlhU3RyZWFtICYmIHRoaXMubWVkaWFTdHJlYW0uZ2V0VHJhY2tzKSB7XHJcbiAgICAgIC8vIGdldFRyYWNrcygpIHJldHVybnMgYWxsIG1lZGlhIHRyYWNrcyAodmlkZW8rYXVkaW8pXHJcbiAgICAgIHRoaXMubWVkaWFTdHJlYW0uZ2V0VHJhY2tzKClcclxuICAgICAgICAuZm9yRWFjaCgodHJhY2s6IE1lZGlhU3RyZWFtVHJhY2spID0+IHRyYWNrLnN0b3AoKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVbnN1YnNjcmliZSBmcm9tIGFsbCBvcGVuIHN1YnNjcmlwdGlvbnNcclxuICAgKi9cclxuICBwcml2YXRlIHVuc3Vic2NyaWJlRnJvbVN1YnNjcmlwdGlvbnMoKSB7XHJcbiAgICBpZiAodGhpcy50cmlnZ2VyU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgIHRoaXMudHJpZ2dlclN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuc3dpdGNoQ2FtZXJhU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgIHRoaXMuc3dpdGNoQ2FtZXJhU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWFkcyBhdmFpbGFibGUgaW5wdXQgZGV2aWNlc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgZGV0ZWN0QXZhaWxhYmxlRGV2aWNlcygpOiBQcm9taXNlPE1lZGlhRGV2aWNlSW5mb1tdPiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBXZWJjYW1VdGlsLmdldEF2YWlsYWJsZVZpZGVvSW5wdXRzKClcclxuICAgICAgICAudGhlbigoZGV2aWNlczogTWVkaWFEZXZpY2VJbmZvW10pID0+IHtcclxuICAgICAgICAgIHRoaXMuYXZhaWxhYmxlVmlkZW9JbnB1dHMgPSBkZXZpY2VzO1xyXG4gICAgICAgICAgcmVzb2x2ZShkZXZpY2VzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgdGhpcy5hdmFpbGFibGVWaWRlb0lucHV0cyA9IFtdO1xyXG4gICAgICAgICAgcmVqZWN0KGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG59XHJcbiJdfQ==